<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">

<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>remoteStorage - remoteStorage.js</title><link rel="stylesheet" type="text/css" href="../styles/main.css"><script language=JavaScript src="../javascript/main.js"></script><script language=JavaScript src="../javascript/prettify.js"></script><script language=JavaScript src="../javascript/searchdata.js"></script></head><body class="ContentPage" onLoad="NDOnLoad();prettyPrint();"><script language=JavaScript><!--
if (browserType) {document.write("<div class=" + browserType + ">");if (browserVer) {document.write("<div class=" + browserVer + ">"); }}// --></script>

<!--  Generated by Natural Docs, version 1.51 -->
<!--  http://www.naturaldocs.org  -->

<!-- saved from url=(0026)http://www.naturaldocs.org -->




<div id=Content><div class="CClass"><div class=CTopic id=MainTopic><h1 class=CTitle><a name="remoteStorage"></a>remoteStorage</h1><div class=CBody><p>Main remoteStorage object, primary namespace.</p><p>Provides an interface for defining modules, controlling the widget and configuring access.</p><p>Most methods here return promises.&nbsp; See the guide for an introduction: <a href="../files2/promises-txt.html#Promises" class=LFile id=link13 onMouseOver="ShowTip(event, 'tt13', 'link13')" onMouseOut="HideTip('tt13')">Promises</a></p><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBorder><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SMain"><td class=SEntry><a href="#remoteStorage" >remoteStorage</a></td><td class=SDescription>Main remoteStorage object, primary namespace.</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#remoteStorage.Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#remoteStorage.defineModule" id=link1 onMouseOver="ShowTip(event, 'tt1', 'link1')" onMouseOut="HideTip('tt1')">defineModule</a></td><td class=SDescription>Define a new module, with given name. </td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#remoteStorage.getModuleList" id=link2 onMouseOver="ShowTip(event, 'tt2', 'link2')" onMouseOut="HideTip('tt2')">getModuleList</a></td><td class=SDescription>list known module names</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#remoteStorage.getClaimedModuleList" id=link3 onMouseOver="ShowTip(event, 'tt3', 'link3')" onMouseOut="HideTip('tt3')">getClaimedModuleList</a></td><td class=SDescription>list of modules currently claimed access on</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#remoteStorage.getModuleInfo" id=link4 onMouseOver="ShowTip(event, 'tt4', 'link4')" onMouseOut="HideTip('tt4')">getModuleInfo</a></td><td class=SDescription>Retrieve meta-information about a given module.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#remoteStorage.claimAccess" >claimAccess</a></td><td class=SDescription><a href="#remoteStorage.claimAccess(moduleName,claim)" class=LFunction id=link5 onMouseOver="ShowTip(event, 'tt5', 'link5')" onMouseOut="HideTip('tt5')">claimAccess(moduleName, claim)</a></td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#remoteStorage.claimAccess(moduleName,claim)" >claimAccess(moduleName, claim)</a></td><td class=SDescription>Claim access on a single module</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#remoteStorage.claimAccess(moduleClaimMap)" id=link6 onMouseOver="ShowTip(event, 'tt6', 'link6')" onMouseOut="HideTip('tt6')">claimAccess(moduleClaimMap)</a></td><td class=SDescription>Claim access to multiple modules.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#remoteStorage.flushLocal" id=link7 onMouseOver="ShowTip(event, 'tt7', 'link7')" onMouseOut="HideTip('tt7')">flushLocal()</a></td><td class=SDescription>Forget this ever happened.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#remoteStorage.fullSync" >fullSync</a></td><td class=SDescription>Synchronize local &lt;-&gt; remote storage.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#remoteStorage.setWidgetView" >setWidgetView</a></td><td class=SDescription>Set the view object to use by the widget. </td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#remoteStorage.displayWidget" id=link8 onMouseOver="ShowTip(event, 'tt8', 'link8')" onMouseOut="HideTip('tt8')">displayWidget</a></td><td class=SDescription>Add the remoteStorage widget to the page.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#remoteStorage.on" >on</a></td><td class=SDescription>Add event handler. </td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#remoteStorage.onWidget" id=link9 onMouseOver="ShowTip(event, 'tt9', 'link9')" onMouseOut="HideTip('tt9')">onWidget</a></td><td class=SDescription>DEPRECATED. </td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#remoteStorage.getForeignClient" id=link10 onMouseOver="ShowTip(event, 'tt10', 'link10')" onMouseOut="HideTip('tt10')">getForeignClient</a></td><td class=SDescription>Get a <a href="lib/foreignClient-js.html#ForeignClient" class=LClass id=link11 onMouseOver="ShowTip(event, 'tt11', 'link11')" onMouseOut="HideTip('tt11')">ForeignClient</a> instance for a given user.</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#remoteStorage.Properties" >Properties</a></td><td class=SDescription></td></tr><tr class="SProperty SIndent2 SMarked"><td class=SEntry><a href="#remoteStorage.store" >store</a></td><td class=SDescription>Public access to <a href="#remoteStorage.store" class=LProperty id=link12 onMouseOver="ShowTip(event, 'tt12', 'link12')" onMouseOut="HideTip('tt12')">store</a></td></tr></table></div></div><!--END_ND_SUMMARY--></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="remoteStorage.Functions"></a>Functions</h3></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="remoteStorage.defineModule"></a>defineModule</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>defineModule: function(</td><td class="PParameter  prettyprint " nowrap>moduleName,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>builder</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Define a new module, with given name.&nbsp; Module names MUST be unique.&nbsp; The given builder will be called immediately, with two arguments, which are both instances of <a href="lib/baseClient-js.html#BaseClient" class=LClass id=link14 onMouseOver="ShowTip(event, 'tt14', 'link14')" onMouseOut="HideTip('tt14')">BaseClient</a>.&nbsp; The first accesses the private section of a modules storage space, the second the public one.&nbsp; The public area can be read by any client (not just an authenticated one), while it can only be written by an authenticated client with read-write access claimed on it.</p><p>The builder is expected to return an object, as described under <a href="#remoteStorage.getModuleInfo" class=LFunction id=link15 onMouseOver="ShowTip(event, 'tt4', 'link15')" onMouseOut="HideTip('tt4')">getModuleInfo</a>.</p><h4 class=CHeading>Parameter</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>moduleName</td><td class=CDLDescription>Name of the module to define.&nbsp; MUST be a-z and all lowercase.</td></tr><tr><td class=CDLEntry>builder</td><td class=CDLDescription>Builder function that holds the module definition.</td></tr></table><h4 class=CHeading>Example</h4><blockquote><pre class="prettyprint">remoteStorage.defineModule('beers', function(privateClient, publicClient) {

  function nameToKey(name) {
    return name.replace(/\s/, '-');
  }

  return {
    exports: {

      addBeer: function(name) {
        return privateClient.storeObject('beer', nameToKey(name), {
          name: name,
          drinkCount: 0
        });
      },

      logDrink: function(name) {
        var key = nameToKey(name);
        return privateClient.getObject(key).then(function(beer) {
          beer.drinkCount++;
          return privateClient.storeObject('beer', key, beer);
        });
      },

      publishBeer: function(name) {
        var key = nameToKey(name);
        return privateClient.getObject(key).then(function(beer) {
          return publicClient.storeObject('beer', key, beer);
        });
      }

    }
  }
});

// to use that code from an app, you need to add:

remoteStorage.claimAccess('beers', 'rw');

remoteStorage.displayWidget();

remoteStorage.on('ready', function() {
  remoteStorage.beers.addBeer('&lt;replace-with-favourite-beer-kind&gt;');
});</pre></blockquote><h4 class=CHeading>See also</h4><p><a href="lib/baseClient-js.html#BaseClient" class=LClass id=link16 onMouseOver="ShowTip(event, 'tt14', 'link16')" onMouseOut="HideTip('tt14')">BaseClient</a></p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="remoteStorage.getModuleList"></a>getModuleList</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td class="prettyprint">getModuleList: function()</td></tr></table></blockquote><p>list known module names</p><h4 class=CHeading>Returns</h4><p>Array of module names.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="remoteStorage.getClaimedModuleList"></a>getClaimedModuleList</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td class="prettyprint">getClaimedModuleList: function()</td></tr></table></blockquote><p>list of modules currently claimed access on</p><h4 class=CHeading>Returns</h4><p>Array of module names.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="remoteStorage.getModuleInfo"></a>getModuleInfo</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>getModuleInfo: function(</td><td class="PParameter  prettyprint " nowrap>moduleName</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Retrieve meta-information about a given module.</p><p>If the module doesn&rsquo;t exist, the result will be undefined.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>moduleName</td><td class=CDLDescription>name of the module</td></tr></table><h4 class=CHeading>Returns</h4><p>An object, usually containing the following keys,</p><ul><li>exports - don&rsquo;t ever use this. it&rsquo;s basically the module&rsquo;s instance.</li><li>name - the name of the module, but you knew that already.</li><li>dataHints - an object, describing internas about the module.</li></ul><h4 class=CHeading>Some of the dataHints used are</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>objectType &lt;type&gt;</td><td class=CDLDescription>description of an object type implemented by the module</td></tr><tr><td class=CDLEntry>&rdquo;objectType message&rdquo;</td><td class=CDLDescription>(example)</td></tr><tr><td class=CDLEntry>&lt;attributeType&gt; &lt;objectType&gt;#&lt;attribute&gt;</td><td class=CDLDescription>description of an attribute</td></tr><tr><td class=CDLEntry>&rdquo;string message#subject&rdquo;</td><td class=CDLDescription>(example)</td></tr><tr><td class=CDLEntry>directory &lt;path&gt;</td><td class=CDLDescription>description of a path&rsquo;s purpose</td></tr><tr><td class=CDLEntry>&rdquo;directory documents/notes/&rdquo;</td><td class=CDLDescription>(example)</td></tr><tr><td class=CDLEntry>item &lt;path&gt;</td><td class=CDLDescription>description of a specific item</td></tr><tr><td class=CDLEntry>&rdquo;item documents/notes/calendar&rdquo;</td><td class=CDLDescription>(example)</td></tr></table><p>Hope this helps.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="remoteStorage.claimAccess"></a>claimAccess</h3><div class=CBody><h4 class=CHeading>Either</h4><p><a href="#remoteStorage.claimAccess(moduleName,claim)" class=LFunction id=link17 onMouseOver="ShowTip(event, 'tt5', 'link17')" onMouseOut="HideTip('tt5')">claimAccess(moduleName, claim)</a></p><h4 class=CHeading>Or</h4><p><a href="#remoteStorage.claimAccess(moduleClaimMap)" class=LFunction id=link18 onMouseOver="ShowTip(event, 'tt6', 'link18')" onMouseOut="HideTip('tt6')">claimAccess(moduleClaimMap)</a></p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="remoteStorage.claimAccess(moduleName,claim)"></a>claimAccess(moduleName, claim)</h3><div class=CBody><p>Claim access on a single module</p><p>You need to claim access to a module before you can access data from it.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>moduleName</td><td class=CDLDescription>name of the module.&nbsp; For a list of defined modules, use <a href="#remoteStorage.getModuleList" class=LFunction id=link19 onMouseOver="ShowTip(event, 'tt2', 'link19')" onMouseOut="HideTip('tt2')">getModuleList</a></td></tr><tr><td class=CDLEntry>claim</td><td class=CDLDescription>permission to claim, either <b>r</b> (read-only) or <b>rw</b> (read-write)</td></tr></table><h4 class=CHeading>Example</h4><blockquote><pre>remoteStorage.claimAccess('contacts', 'r').then(remoteStorage.displayWidget).then(initApp);</pre></blockquote><h4 class=CHeading>Returns</h4><p>A Promise, fulfilled when the access has been claimed.</p><p>FIXME: this method is currently asynchronous due to internal design issues, but it doesn&rsquo;t need to be.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="remoteStorage.claimAccess(moduleClaimMap)"></a>claimAccess(moduleClaimMap)</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>claimAccess: function(</td><td class="PParameter  prettyprint " nowrap>moduleName,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>mode</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Claim access to multiple modules.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>moduleClaimMap</td><td class=CDLDescription>a JSON object with module names as keys and claims as values.</td></tr></table><h4 class=CHeading>Example</h4><blockquote><pre>remoteStorage.claimAccess({
  contacts: 'r',
  documents: 'rw',
  money: 'r'
}).then(remoteStorage.displayWidget).then(initApp);</pre></blockquote><h4 class=CHeading>Returns</h4><p>A Promise, fulfilled when the access has been claimed.</p><p>FIXME: this method is currently asynchronous due to internal design issues, but it doesn&rsquo;t need to be.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="remoteStorage.flushLocal"></a>flushLocal()</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>flushLocal : function(</td><td class="PParameter  prettyprint " nowrap>all</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Forget this ever happened.</p><p>Delete all locally stored data.</p><p>Note that if you&rsquo;re using a localStorage backend, this doesn&rsquo;t clear the entire localStorage, but just removes everything remoteStorage.js saved there.&nbsp; Other data your app might have put into localStorage stays there.</p><p>Call this method to implement &ldquo;logout&rdquo;.</p><p>If you are using the widget (which you should!), you don&rsquo;t need this.</p><h4 class=CHeading>Example</h4><blockquote><pre>remoteStorage.flushLocal();</pre></blockquote></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="remoteStorage.fullSync"></a>fullSync</h3><div class=CBody><p>Synchronize local &lt;-&gt; remote storage.</p><p>Syncing starts at the access roots (the ones you claimed using claimAccess) and moves down the directory tree.&nbsp; Only nodes with a &lsquo;force&rsquo; flag on themselves or one of their ancestors will be synchronized.&nbsp; Use <a href="lib/baseClient-js.html#BaseClient.use" class=LFunction id=link20 onMouseOver="ShowTip(event, 'tt15', 'link20')" onMouseOut="HideTip('tt15')">BaseClient.use</a> and <a href="lib/baseClient-js.html#BaseClient.release" class=LFunction id=link21 onMouseOver="ShowTip(event, 'tt16', 'link21')" onMouseOut="HideTip('tt16')">BaseClient.release</a> to set / unset force flags.&nbsp; The actual changes to either local or remote storage happen in the future, so you should attach change handlers on the modules you&rsquo;re interested in.</p><h4 class=CHeading>Returns</h4><p>A Promise.</p><p>If you are interested when the sync is done, or if there were any errors, chain to the promise as shown below.</p><h4 class=CHeading>Example</h4><blockquote><pre>remoteStorage.claimAccess('money', 'rw');

remoteStorage.money.on('change', function(changeEvent) {
  // handle change event (update UI etc)
});

remoteStorage.fullSync().then(function() {
  // sync done, do whatever you want.
}, function(error) {
  // handle error.
});</pre></blockquote></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="remoteStorage.setWidgetView"></a>setWidgetView</h3><div class=CBody><p>Set the view object to use by the widget.&nbsp; By default remoteStorage.js uses it&rsquo;s own default view.&nbsp; The default view is designed to work in a browser.&nbsp; If you are using any other platform, you need to implement your own view.&nbsp; See the interface documentation for <a href="lib/widget/default-js.html#WidgetView" class=LInterface id=link22 onMouseOver="ShowTip(event, 'tt17', 'link22')" onMouseOut="HideTip('tt17')">WidgetView</a> for a description of the methods and and events the view should implement.</p><h4 class=CHeading>Example</h4><blockquote><pre>var myView = {
  display: function() {
    // render the widget (or whatever)
  },
  // (...)
};

remoteStorage.setWidgetView(myView);

// claim access, display widget etc.</pre></blockquote></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="remoteStorage.displayWidget"></a>displayWidget</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>displayWidget: function(</td><td class="PParameter  prettyprint " nowrap>element,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>options</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Add the remoteStorage widget to the page.</p><p><b>Note</b> call <a href="#remoteStorage.claimAccess" class=LFunction id=link23 onMouseOver="ShowTip(event, 'tt18', 'link23')" onMouseOut="HideTip('tt18')">claimAccess</a> before calling displayWidget, otherwise you can&rsquo;t access any actual data.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>element</td><td class=CDLDescription>(optional) DOM element to append the widget element, defaults to BODY element.&nbsp; May also be the ID of a DOM element.</td></tr><tr><td class=CDLEntry>options</td><td class=CDLDescription>(optional) Options, as described below.</td></tr><tr><td class=CDLEntry>options.locale</td><td class=CDLDescription>Locale to use for the widget.&nbsp; Currently ignored.</td></tr></table></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="remoteStorage.on"></a>on</h3><div class=CBody><p>Add event handler.&nbsp; Event handlers are bound on the <a href="lib/widget-js.html#widget" class=LClass id=link24 onMouseOver="ShowTip(event, 'tt19', 'link24')" onMouseOut="HideTip('tt19')">widget</a>, which acts as a controller.&nbsp; See <a href="lib/widget-js.html#widget.Events" class=LGroup >widget.Events</a> for available Events.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>eventType</td><td class=CDLDescription>type of event to add handler to</td></tr><tr><td class=CDLEntry>handler</td><td class=CDLDescription>handler function</td></tr></table></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="remoteStorage.onWidget"></a>onWidget</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td class="prettyprint">onWidget: function()</td></tr></table></blockquote><p>DEPRECATED.&nbsp; Alias for <a href="#remoteStorage.on" class=LFunction id=link25 onMouseOver="ShowTip(event, 'tt20', 'link25')" onMouseOut="HideTip('tt20')">on</a>.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="remoteStorage.getForeignClient"></a>getForeignClient</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>getForeignClient: function(</td><td class="PParameter  prettyprint " nowrap>userAddress,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>callback</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Get a <a href="lib/foreignClient-js.html#ForeignClient" class=LClass id=link26 onMouseOver="ShowTip(event, 'tt11', 'link26')" onMouseOut="HideTip('tt11')">ForeignClient</a> instance for a given user.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>userAddress</td><td class=CDLDescription>a user address in the form user@host</td></tr><tr><td class=CDLEntry>callback</td><td class=CDLDescription>a callback to receive the client</td></tr></table><p>If there is no storageInfo cached for this userAddress, this will trigger a webfinger discovery and when that succeeded, return the client through the callback.</p><h4 class=CHeading>Example</h4><blockquote><pre class="prettyprint">var client = remoteStorage.getForeignClient('alice@wonderland.lit', function(error, client) {
  if(error) {
    console.error(&quot;Discovery failed: &quot;, error);
  } else {
    client.getPublishedObjects(function(objects) {
      console.log('public stuff', objects);
    });
  }
});</pre></blockquote></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="remoteStorage.Properties"></a>Properties</h3></div></div>

<div class="CProperty"><div class=CTopic><h3 class=CTitle><a name="remoteStorage.store"></a>store</h3><div class=CBody><p>Public access to <a href="#remoteStorage.store" class=LProperty id=link27 onMouseOver="ShowTip(event, 'tt12', 'link27')" onMouseOut="HideTip('tt12')">store</a></p></div></div></div>

</div><!--Content-->


<div id=Footer>remoteStorage.js is developed by some people. It's open source (MIT license) and meant for YOU! Don't mess with people's data, dude.&nbsp; &middot;&nbsp; <a href="http://www.naturaldocs.org">Generated by Natural Docs</a></div><!--Footer-->


<div id=Menu><div class=MTitle>remoteStorage.js</div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent1')">Intro</a><div class=MGroupContent id=MGroupContent1><div class=MEntry><div class=MFile><a href="../files2/overview-txt.html">Overview</a></div></div><div class=MEntry><div class=MFile><a href="../files2/download-txt.html">Get remoteStorage.js</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent2')">Guides</a><div class=MGroupContent id=MGroupContent2><div class=MEntry><div class=MFile><a href="../files2/howto-include-txt.html">Adding remoteStorage to your app</a></div></div><div class=MEntry><div class=MFile><a href="../files2/howto-contribute-txt.html">Howto contribute</a></div></div><div class=MEntry><div class=MFile><a href="../files2/promises-txt.html">Promises</a></div></div><div class=MEntry><div class=MFile><a href="../files2/schema-txt.html">Working with schemas</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent8')">API</a><div class=MGroupContent id=MGroupContent8><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent3')">Public API</a><div class=MGroupContent id=MGroupContent3><div class=MEntry><div class=MFile id=MSelected>remoteStorage</div></div><div class=MEntry><div class=MFile><a href="lib/baseClient-js.html">BaseClient</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent4')">Modules</a><div class=MGroupContent id=MGroupContent4><div class=MEntry><div class=MFile><a href="modules/contacts-js.html">contacts</a></div></div><div class=MEntry><div class=MFile><a href="modules/tasks-js.html">tasks</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent6')">Internals</a><div class=MGroupContent id=MGroupContent6><div class=MEntry><div class=MFile><a href="lib/wireClient-js.html">wireClient</a></div></div><div class=MEntry><div class=MFile><a href="lib/getputdelete-js.html">getputdelete</a></div></div><div class=MEntry><div class=MFile><a href="lib/store-js.html">store</a></div></div><div class=MEntry><div class=MFile><a href="lib/sync-js.html">sync</a></div></div><div class=MEntry><div class=MFile><a href="lib/util-js.html">util</a></div></div><div class=MEntry><div class=MFile><a href="lib/webfinger-js.html">webfinger</a></div></div><div class=MEntry><div class=MFile><a href="lib/platform-js.html">platform</a></div></div><div class=MEntry><div class=MFile><a href="lib/nodeConnect-js.html">nodeConnect</a></div></div><div class=MEntry><div class=MFile><a href="lib/widget-js.html">widget</a></div></div><div class=MEntry><div class=MFile><a href="lib/foreignClient-js.html">ForeignClient</a></div></div><div class=MEntry><div class=MFile><a href="lib/i18n-js.html">i18n</a></div></div><div class=MEntry><div class=MFile><a href="lib/widget/default-js.html">WidgetView</a></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent5')">Store</a><div class=MGroupContent id=MGroupContent5><div class=MEntry><div class=MFile><a href="lib/store/localStorage-js.html">store.<wbr>localStorage</a></div></div><div class=MEntry><div class=MFile><a href="lib/store/memory-js.html">store.<wbr>memory</a></div></div><div class=MEntry><div class=MFile><a href="lib/store/syncTransaction-js.html">syncTranscation</a></div></div></div></div></div><div class=MEntry><div class=MFile><a href="lib/caching-js.html">caching.js</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent7')">Docs Index</a><div class=MGroupContent id=MGroupContent7><div class=MEntry><div class=MIndex><a href="../index/General.html">Everything</a></div></div><div class=MEntry><div class=MIndex><a href="../index/Variables.html">Variables</a></div></div></div></div></div></div></div></div><script type="text/javascript"><!--
var searchPanel = new SearchPanel("searchPanel", "HTML", "../search");
--></script><div id=MSearchPanel class=MSearchPanelInactive><input type=text id=MSearchField value=Search onFocus="searchPanel.OnSearchFieldFocus(true)" onBlur="searchPanel.OnSearchFieldFocus(false)" onKeyUp="searchPanel.OnSearchFieldChange()"><select id=MSearchType onFocus="searchPanel.OnSearchTypeFocus(true)" onBlur="searchPanel.OnSearchTypeFocus(false)" onChange="searchPanel.OnSearchTypeChange()"><option  id=MSearchEverything selected value="General">Everything</option><option value="Variables">Variables</option></select></div><script language=JavaScript><!--
HideAllBut([3, 8, 4], 9);// --></script></div><!--Menu-->



<!--START_ND_TOOLTIPS-->
<div class=CToolTip id="tt1"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>defineModule: function(</td><td class="PParameter  prettyprint " nowrap>moduleName,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>builder</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Define a new module, with given name. </div></div><div class=CToolTip id="tt2"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td class="prettyprint">getModuleList: function()</td></tr></table></blockquote>list known module names</div></div><div class=CToolTip id="tt3"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td class="prettyprint">getClaimedModuleList: function()</td></tr></table></blockquote>list of modules currently claimed access on</div></div><div class=CToolTip id="tt4"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>getModuleInfo: function(</td><td class="PParameter  prettyprint " nowrap>moduleName</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Retrieve meta-information about a given module.</div></div><div class=CToolTip id="tt5"><div class=CFunction>Claim access on a single module</div></div><div class=CToolTip id="tt6"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>claimAccess: function(</td><td class="PParameter  prettyprint " nowrap>moduleName,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>mode</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Claim access to multiple modules.</div></div><div class=CToolTip id="tt7"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>flushLocal : function(</td><td class="PParameter  prettyprint " nowrap>all</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Forget this ever happened.</div></div><div class=CToolTip id="tt8"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>displayWidget: function(</td><td class="PParameter  prettyprint " nowrap>element,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>options</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Add the remoteStorage widget to the page.</div></div><div class=CToolTip id="tt9"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td class="prettyprint">onWidget: function()</td></tr></table></blockquote>DEPRECATED. </div></div><div class=CToolTip id="tt10"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>getForeignClient: function(</td><td class="PParameter  prettyprint " nowrap>userAddress,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>callback</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Get a ForeignClient instance for a given user.</div></div><div class=CToolTip id="tt11"><div class=CClass>A modified BaseClient, to query other people&rsquo;s storage.</div></div><div class=CToolTip id="tt12"><div class=CProperty>Public access to store</div></div><div class=CToolTip id="tt13"><div class=CFile>A lot of methods in remoteStorage.js return <b>Promises</b>. </div></div><div class=CToolTip id="tt14"><div class=CClass>A BaseClient allows you to get, set or remove data. </div></div><div class=CToolTip id="tt15"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>use: function(</td><td class="PParameter  prettyprint " nowrap>path,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>skipData</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Enable local caching for given path.</div></div><div class=CToolTip id="tt16"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>release: function(</td><td class="PParameter  prettyprint " nowrap>path</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Disable local caching on given path.</div></div><div class=CToolTip id="tt17"><div class=CInterface>A stateful view providing interaction with remoteStorage.</div></div><div class=CToolTip id="tt18"><div class=CFunction>claimAccess(moduleName, claim)</div></div><div class=CToolTip id="tt19"><div class=CClass>The remoteStorage widget.</div></div><div class=CToolTip id="tt20"><div class=CFunction>Add event handler. </div></div><!--END_ND_TOOLTIPS-->




<div id=MSearchResultsWindow><iframe src="" frameborder=0 name=MSearchResults id=MSearchResults></iframe><a href="javascript:searchPanel.CloseResultsWindow()" id=MSearchResultsWindowClose>Close</a></div>


<script language=JavaScript><!--
if (browserType) {if (browserVer) {document.write("</div>"); }document.write("</div>");}// --></script></body></html>